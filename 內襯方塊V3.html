<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é­”æ³•éˆæ°£æ¨¡æ“¬å™¨</title>
   
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background: #ffeceb;
      margin: 0;
      padding: 2em;
      display: flex;
      justify-content: center;
    }
    .cube-box {
      background: #fbb9a7;
      padding: 2em;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      width: 600px;
    }
    .title {
      font-size: 1.8em;
      font-weight: bold;
      margin-bottom: 1em;
    }
    .btn-row, .control-row {
      display: flex;
      justify-content: center;
      gap: 1em;
      margin-bottom: 1em;
      flex-wrap: wrap;
    }
    .btn, .setting-btn {
      padding: 0.6em 1.5em;
      font-size: 1rem;
      background-color: #f15a29;
      color: white;
      border: none;
      border-radius: 8px;
      box-shadow: 0 4px 0 #b53c1c;
      cursor: pointer;
    }
    .setting-btn {
      background-color: #666;
      box-shadow: none;
    }
    select {
      padding: 0.5em;
      font-size: 1rem;
      width: 70%;
      margin: 0.3em auto;
      display: block;
    }
    .result-area {
      background: #fff6f5;
      min-height: 100px;
      border-radius: 12px;
      padding: 1em;
      font-size: 1.1rem;
      color: #333;
      margin-bottom: 1em;
    }
    .stat-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1em;
}
.stat-column {
  width: 48%;
  background: #fff;
  padding: 0.8em;
  border-radius: 6px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  font-size: 0.95em;
}
.stat-column strong {
  display: block;
  margin-bottom: 0.5em;
}
    .stats-section {
      background: #fff6f5;
      padding: 1em;
      border-radius: 12px;
      margin-top: 1em;
    }
  </style>
</head>

<body>
  
  <div class="cube-box">
    <button onclick="location.href='index.html'" style="font-size: 1em; margin-bottom: 10px;">
  â¬…ï¸ å›é¦–é 
</button>
    <div class="title">å…§è¥¯æ–¹å¡Šæ¨¡æ“¬å™¨</div>
<div class="title">å¤§éƒ¨åˆ†éƒ½ä¿®å¥½ é›»è…¦ç‰ˆéœ€è¦ctrlé€²è¡Œå¤šé¸</div>
    <!-- æ½›èƒ½ç­‰ç´šé¸æ“‡ -->
    <select id="startTierSelect">
      <option value="ç‰¹æ®Š">åˆå§‹æ½›èƒ½ï¼šç‰¹æ®Š</option>
      <option value="ç¨€æœ‰">åˆå§‹æ½›èƒ½ï¼šç¨€æœ‰</option>
      <option value="ç½•è¦‹">åˆå§‹æ½›èƒ½ï¼šç½•è¦‹</option>
      <option value="å‚³èªª">åˆå§‹æ½›èƒ½ï¼šå‚³èªª</option>
    </select>

    <!-- ç›®æ¨™è©æ¢é¸æ“‡ -->
   <select id="target1" multiple size="6"></select>
<select id="target2" multiple size="6"></select>
<select id="target3" multiple size="6"></select>

    <!-- é¡¯ç¤ºä¸‰æ¢æ½›èƒ½ -->
    <div class="result-area" id="resultArea">
      <div id="actualTier">æ½›èƒ½éšç´šï¼š-</div>
      <div id="potential1">---</div>
      <div id="potential2">---</div>
      <div id="potential3">---</div>
    </div>

    <!-- æ§åˆ¶æŒ‰éˆ• -->
    <div class="btn-row">
      <button class="btn" onclick="drawOnce()">æ´—ä¸€æ¬¡</button>
      <button class="setting-btn" onclick="drawUntilTarget()">æ´—åˆ°ç›®æ¨™</button>
      <button class="setting-btn" onclick="drawUntilUpgrade()">æ´—åˆ°è·³æ¡†</button>
      <button class="setting-btn" onclick="drawUntilLegendary()">æ´—åˆ°å‚³èªª</button>
      
    </div>

    <!-- æ¸…é™¤ / åœæ­¢ -->
    <div class="control-row">
      <button class="btn" onclick="clearStats()">æ¸…é™¤çµ±è¨ˆ</button>
      <button class="btn" onclick="forceStop()">å¼·åˆ¶åœæ­¢</button>
    </div>

    <!-- çµ±è¨ˆè³‡è¨Š -->
   <div class="stats-section">
  <div>ç¸½æ´—æ–¹å¡Šæ¬¡æ•¸ï¼š<span id="totalDraw">0</span></div>
  <div id="totalCost">ç¸½èŠ±è²»é‡‘é¡ï¼š0 å…ƒ</div>
  
  <ul style="margin: 0; padding-left: 1.2em; font-size: 0.95em;">
    <div>
  <div id="rate-special">ç‰¹æ®Š â†’ ç¨€æœ‰ï¼š0 æ¬¡ï¼ˆ0%ï¼‰</div>
  <div id="rate-rare">ç¨€æœ‰ â†’ ç½•è¦‹ï¼š0 æ¬¡ï¼ˆ0%ï¼‰</div>
  <div id="rate-epic">ç½•è¦‹ â†’ å‚³èªªï¼š0 æ¬¡ï¼ˆ0%ï¼‰</div>
</div>
  </ul>
</div>
<!-- âœ… å‚³èªªæ½›èƒ½çµ±è¨ˆå€ -->
<div class="stats-section" id="statSummaryContainer">
  <h3 style="margin-top: 0;">âœ¨ å‚³èªªæ½›èƒ½çµ±è¨ˆå€</h3>
  <div id="legendaryDrawCount">å‚³èªªéšç´šç¸½æ´—å‡ºæ–¹å¡Šæ•¸é‡ï¼š0</div>
  <div style="font-size: 0.85em; color: #555;">
ï¼Šæ­¤è™•æ©Ÿç‡åƒ…çµ±è¨ˆã€Œå‚³èªªéšç´šã€å‡ºç¾æ™‚çš„æ½›èƒ½æ©Ÿç‡
</div>

<h4>ç¬¬ä¸€æ’</h4>
<div class="stat-row">
  <div class="stat-column">
    <strong>æ”»æ“ŠåŠ›ï¼š</strong><br>
    +20ï¼š<span id="atk1_20">0</span>ï¼ˆ<span id="atk1_20_pct">0%</span>ï¼‰<br>
    +15ï¼š<span id="atk1_15">0</span>ï¼ˆ<span id="atk1_15_pct">0%</span>ï¼‰<br>
    +13ï¼š<span id="atk1_13">0</span>ï¼ˆ<span id="atk1_13_pct">0%</span>ï¼‰<br>
    +10ï¼š<span id="atk1_10">0</span>ï¼ˆ<span id="atk1_10_pct">0%</span>ï¼‰
  </div>
  <div class="stat-column">
    <strong>é­”æ³•æ”»æ“ŠåŠ›ï¼š</strong><br>
    +20ï¼š<span id="matk1_20">0</span>ï¼ˆ<span id="matk1_20_pct">0%</span>ï¼‰<br>
    +15ï¼š<span id="matk1_15">0</span>ï¼ˆ<span id="matk1_15_pct">0%</span>ï¼‰<br>
    +13ï¼š<span id="matk1_13">0</span>ï¼ˆ<span id="matk1_13_pct">0%</span>ï¼‰<br>
    +10ï¼š<span id="matk1_10">0</span>ï¼ˆ<span id="matk1_10_pct">0%</span>ï¼‰
  </div>
</div>
  
  <h4>ç¬¬äºŒæ’</h4>
  <div class="stat-row">
    <div class="stat-column">
      <strong>æ”»æ“ŠåŠ›ï¼š</strong><br>
      +20ï¼š<span id="atk2_20">0</span>ï¼ˆ<span id="atk2_20_pct">0%</span>ï¼‰<br>
      +15ï¼š<span id="atk2_15">0</span>ï¼ˆ<span id="atk2_15_pct">0%</span>ï¼‰<br>
      +13ï¼š<span id="atk2_13">0</span>ï¼ˆ<span id="atk2_13_pct">0%</span>ï¼‰<br>
      +10ï¼š<span id="atk2_10">0</span>ï¼ˆ<span id="atk2_10_pct">0%</span>ï¼‰
    </div>
    <div class="stat-column">
      <strong>é­”æ³•æ”»æ“ŠåŠ›ï¼š</strong><br>
      +20ï¼š<span id="matk2_20">0</span>ï¼ˆ<span id="matk2_20_pct">0%</span>ï¼‰<br>
      +15ï¼š<span id="matk2_15">0</span>ï¼ˆ<span id="matk2_15_pct">0%</span>ï¼‰<br>
      +13ï¼š<span id="matk2_13">0</span>ï¼ˆ<span id="matk2_13_pct">0%</span>ï¼‰<br>
      +10ï¼š<span id="matk2_10">0</span>ï¼ˆ<span id="matk2_10_pct">0%</span>ï¼‰
    </div>
  </div>
  
  <h4>ç¬¬ä¸‰æ’</h4>
  <div class="stat-row">
    <div class="stat-column">
      <strong>æ”»æ“ŠåŠ›ï¼š</strong><br>
      +20ï¼š<span id="atk3_20">0</span>ï¼ˆ<span id="atk3_20_pct">0%</span>ï¼‰<br>
      +15ï¼š<span id="atk3_15">0</span>ï¼ˆ<span id="atk3_15_pct">0%</span>ï¼‰<br>
      +13ï¼š<span id="atk3_13">0</span>ï¼ˆ<span id="atk3_13_pct">0%</span>ï¼‰<br>
      +10ï¼š<span id="atk3_10">0</span>ï¼ˆ<span id="atk3_10_pct">0%</span>ï¼‰
    </div>
    <div class="stat-column">
      <strong>é­”æ³•æ”»æ“ŠåŠ›ï¼š</strong><br>
      +20ï¼š<span id="matk3_20">0</span>ï¼ˆ<span id="matk3_20_pct">0%</span>ï¼‰<br>
      +15ï¼š<span id="matk3_15">0</span>ï¼ˆ<span id="matk3_15_pct">0%</span>ï¼‰<br>
      +13ï¼š<span id="matk3_13">0</span>ï¼ˆ<span id="matk3_13_pct">0%</span>ï¼‰<br>
      +10ï¼š<span id="matk3_10">0</span>ï¼ˆ<span id="matk3_10_pct">0%</span>ï¼‰
    </div>
  </div>
  
</div>
<!-- ğŸ”½ å¯ä»¥åŠ å€‹æ”¶åˆæŒ‰éˆ• -->
<div class="stats-section">
  <button onclick="toggleLegendaryDetail()" class="btn" style="margin-bottom: 10px;">ğŸ”½ å±•é–‹ / æ”¶åˆ å‚³èªªæ½›èƒ½è©³ç´°çµ±è¨ˆ</button>
  <div id="legendaryStatDetail" style="display: none; padding: 10px; border: 1px solid #ccc;">
  <div style="font-size: 0.85em; color: #555;">
ï¼Šæ­¤è™•æ©Ÿç‡åƒ…çµ±è¨ˆã€Œå‚³èªªéšç´šã€å‡ºç¾æ™‚çš„æ½›èƒ½æ©Ÿç‡
</div>

    <h3>ğŸ“— ç¬¬ä¸€æ¢æ½›èƒ½</h3>
    <div id="legendaryStat1" style="white-space: pre-wrap; font-size: 0.95em;"></div>
    
    <h3>ğŸ“˜ ç¬¬äºŒæ¢æ½›èƒ½</h3>
    <div id="legendaryStat2" style="white-space: pre-wrap; font-size: 0.95em;"></div>
    
    <h3>ğŸ“™ ç¬¬ä¸‰æ¢æ½›èƒ½</h3>
    <div id="legendaryStat3" style="white-space: pre-wrap; font-size: 0.95em;"></div>
  </div>
</div>
  </div>

  <!-- âœ… è¼‰å…¥ JSï¼ˆé †åºä¸èƒ½éŒ¯ï¼‰ -->
  <script src="potential_dataV3.js"></script>
  <script src="potential_cubeV3.js"></script>
  <script src="potential_statsV3.js"></script>


</body>
</html>

<script>
  // çµ±è¨ˆä»£ç¢¼æ”¾é€™è£¡å³å¯
  fetch("https://script.google.com/macros/s/AKfycbxwQbyiBzWgYUzRXUbDipBlV04Xot1HnsMYsj3FoeKRMlVEgbV_K0y7WwFF7O_JtIFiOA/exec?page=å…§è¥¯æ¨¡æ“¬å™¨V3");
</script>